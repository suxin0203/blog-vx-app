"use strict";const e=require("../../common/vendor.js"),n=require("../../common/api.js");if(!Array){(e.resolveComponent("uni-search-bar")+e.resolveComponent("uni-swiper-dot")+e.resolveComponent("uni-card")+e.resolveComponent("uni-section")+e.resolveComponent("uni-pagination"))()}Math||((()=>"../../uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar.js")+(()=>"../../uni_modules/uni-swiper-dot/components/uni-swiper-dot/uni-swiper-dot.js")+(()=>"../../uni_modules/uni-card/components/uni-card/uni-card.js")+(()=>"../../uni_modules/uni-section/components/uni-section/uni-section.js")+(()=>"../../uni_modules/uni-pagination/components/uni-pagination/uni-pagination.js"))();const t={__name:"index",setup(t){let a=e.ref(""),i=e.ref(0),o=e.ref([]),u=e.ref([]);e.ref("");let r=e.ref(0),s=e.ref(0),l=e.ref(1),c=e.ref(8),d=e.ref("");e.ref(0);const p=(e=1,t=8,a="",i=0)=>{n.get("/articles/",{page:e,pageSize:t,keyword:a,categoryId:i}).then((e=>{s.value=Number(e.data.pagination.total),l.value=Number(e.data.pagination.page),c.value=Number(e.data.pagination.pageSize),u.value=e.data.data}))},f=e=>{const n=new Date(e),t=n.getFullYear(),a=n.getMonth()+1,i=n.getDate(),o=n.getHours(),u=n.getMinutes(),r=n.getSeconds();return`${t}/${g(a)}/${g(i)}`+" "+`${g(o)}:${g(u)}:${g(r)}`},g=e=>e<10?`0${e}`:e;e.index.showShareMenu({withShareTicket:!0,menu:["shareAppMessage","shareTimeline"]}),e.onLoad((()=>{p(),n.get("/upload/imglist").then((e=>{o.value=e.data.data})),e.index.getSystemInfo({success:n=>{const t=n.statusBarHeight||0;n.titleBarHeight,i.value=t,a.value=`margin-top: ${e.wx$1.getMenuButtonBoundingClientRect().top-7}px; width: ${e.wx$1.getSystemInfoSync().screenWidth-e.wx$1.getMenuButtonBoundingClientRect().width-10}px;`}})}));const m=()=>{l.value=1,p(l.value,c.value,d.value)},v=e=>{r.value=e.detail.current},h=e=>{l.value=e.current,p(l.value,c.value,d.value)};return(n,t)=>({a:e.o(m),b:e.o((n=>e.isRef(d)?d.value=n:d=n)),c:e.p({radius:"100",placeholder:"请输入想要搜的内容",clearButton:"auto",cancelButton:"none",modelValue:e.unref(d)}),d:e.s(e.unref(a)),e:e.f(e.unref(o),((n,t,a)=>({a:n.href,b:e.n("swiper-item"+t),c:t}))),f:e.o(v),g:e.unref(r),h:e.p({info:e.unref(o),current:e.unref(r),field:"content"}),i:e.f(e.unref(u),((n,t,a)=>({a:e.t(n.content),b:n.id,c:e.o((t=>{return a=n.id,void e.index.navigateTo({url:`/pages/component/detail?id=${a}`});var a}),n.id),d:"4fa3e5a1-3-"+a+",4fa3e5a1-2",e:e.p({title:n.title,extra:f(n.created_at)})}))),j:e.p({title:"文章",type:"line",titleFontSize:"18px"}),k:e.o(h),l:e.p({current:e.unref(l),total:e.unref(s),pageSize:e.unref(c),"show-icon":!0}),m:e.t(e.unref(l)),n:e.t(e.unref(s)),o:e.t(e.unref(c))})},__runtimeHooks:2};wx.createPage(t);
