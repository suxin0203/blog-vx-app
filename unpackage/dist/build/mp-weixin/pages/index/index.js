"use strict";const e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("uni-search-bar")+e.resolveComponent("uni-swiper-dot")+e.resolveComponent("uni-card")+e.resolveComponent("uni-section")+e.resolveComponent("uni-pagination"))()}Math||((()=>"../../uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar.js")+(()=>"../../uni_modules/uni-swiper-dot/components/uni-swiper-dot/uni-swiper-dot.js")+(()=>"../../uni_modules/uni-card/components/uni-card/uni-card.js")+(()=>"../../uni_modules/uni-section/components/uni-section/uni-section.js")+(()=>"../../uni_modules/uni-pagination/components/uni-pagination/uni-pagination.js"))();const t={__name:"index",setup(t){let n=e.ref(""),o=e.ref(0),a=e.reactive([]),u=e.reactive([]);e.reactive([{value:0,text:"篮球"},{value:1,text:"足球"},{value:2,text:"游泳"}]),e.ref("");let i=e.ref(0),r=e.ref(0),s=e.ref(1),l=e.ref(8),c=e.ref("");e.ref(0);const d=e=>{const t=new Date(e),n=t.getFullYear(),o=t.getMonth()+1,a=t.getDate(),u=t.getHours(),i=t.getMinutes(),r=t.getSeconds();return`${n}-${p(o)}-${p(a)}`+`${p(u)}:${p(i)}:${p(r)}`},p=e=>e<10?`0${e}`:e,f=(t=1,n=8,o="",a=0)=>{e.index.request({url:"https://api.suxin23.cn/blog/search",method:"GET",data:{page:t,pageSize:n,keyword:o,categoryId:a},success:e=>{r.value=Number(e.data.data.count),s.value=Number(e.data.data.page),l.value=Number(e.data.data.pageSize),u.splice(0,u.length,...e.data.data.rows)},fail:e=>{console.error(e)}})};e.onLoad((()=>{e.index.getSystemInfo({success:t=>{const a=t.statusBarHeight||0;t.titleBarHeight,o.value=a,console.log(e.wx$1.getMenuButtonBoundingClientRect()),n.value=`margin-top: ${e.wx$1.getMenuButtonBoundingClientRect().top-7}px; width: ${e.wx$1.getSystemInfoSync().screenWidth-e.wx$1.getMenuButtonBoundingClientRect().width-10}px;`}})})),e.onReady((()=>{e.index.request({url:"https://api.suxin23.cn/lbt/imglist",success:e=>{a.push(...e.data.data)}}),f()}));const g=()=>{s.value=1,f(s.value,l.value,c.value)},m=e=>{i.value=e.detail.current},v=e=>{console.log(e),s.value=e.current,f(s.value,l.value,c.value)};return(t,o)=>({a:e.o(g),b:e.o((t=>e.isRef(c)?c.value=t:c=t)),c:e.p({radius:"100",placeholder:"请输入想要搜的内容",clearButton:"auto",cancelButton:"none",modelValue:e.unref(c)}),d:e.s(e.unref(n)),e:e.f(e.unref(a),((t,n,o)=>({a:t.href,b:e.n("swiper-item"+n),c:n}))),f:e.o(m),g:e.unref(i),h:e.o(t.clickItem),i:e.p({info:e.unref(a),current:e.unref(i),mode:t.default,"dots-styles":t.dotsStyles,field:"content"}),j:e.f(e.unref(u),((t,n,o)=>({a:e.t(t.content),b:t.id,c:e.o((n=>{return o=t.id,void e.index.navigateTo({url:`/pages/component/blog-detail?id=${o}`});var o}),t.id),d:"20f4664f-3-"+o+",20f4664f-2",e:e.p({title:t.title,extra:d(t.create_time)})}))),k:e.p({title:"文章",type:"line",titleFontSize:"18px"}),l:e.o(v),m:e.p({current:e.unref(s),total:e.unref(r),title:"标题文字",pageSize:e.unref(l),"show-icon":!0}),n:e.t(e.unref(s)),o:e.t(e.unref(r)),p:e.t(e.unref(l))})}};wx.createPage(t);
