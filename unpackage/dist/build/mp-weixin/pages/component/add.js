"use strict";const e=require("../../common/vendor.js"),n=require("../../common/api.js");if(!Array){(e.resolveComponent("uni-popup-message")+e.resolveComponent("uni-popup")+e.resolveComponent("uni-notice-bar")+e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-forms-item")+e.resolveComponent("uni-data-select")+e.resolveComponent("uni-forms")+e.resolveComponent("uni-section"))()}Math||((()=>"../../uni_modules/uni-popup/components/uni-popup-message/uni-popup-message.js")+(()=>"../../uni_modules/uni-popup/components/uni-popup/uni-popup.js")+(()=>"../../uni_modules/uni-notice-bar/components/uni-notice-bar/uni-notice-bar.js")+(()=>"../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js")+(()=>"../../uni_modules/uni-data-select/components/uni-data-select/uni-data-select.js")+(()=>"../../uni_modules/uni-forms/components/uni-forms/uni-forms.js")+(()=>"../../uni_modules/uni-section/components/uni-section/uni-section.js"))();const o={__name:"add",setup(o){let t=e.ref([]),u=e.ref(""),s=e.ref("");const i=e.ref(null);let a=e.ref({title:"",category_id:0,content:""}),r=e.ref();r.value=e.index.getStorageSync("token"),e.onLoad((()=>{n.get("/categories/").then((e=>{if(200===e.data.code){const n=e.data.data;t.value=n.map((e=>({value:e.id,text:e.name})))}}))}));const p=()=>{n.post("/articles/token/",a.value).then((e=>{200===e.data.code?u.value="success":u.value="error",s.value=e.data.message,i.value.open()}))};return(n,o)=>({a:e.p({type:e.unref(u),message:e.unref(s),duration:2e3}),b:e.sr(i,"1680124a-0",{k:"message"}),c:e.p({type:"message"}),d:e.p({"show-icon":!0,scrollable:!0,text:"如果你年轻的时候不 996，你什么时候可以 996？你一辈子没有 996，你觉得你就很骄傲了？这个世界上，我们每一个人都希望成功，都希望美好生活，都希望被尊重，我请问大家，你不付出超越别人的努力和时间，你怎么能够实现你想要的成功？"}),e:e.o((n=>e.unref(a).title=n)),f:e.p({placeholder:"请输入标题",modelValue:e.unref(a).title}),g:e.p({label:"标题",required:!0}),h:e.o((n=>e.unref(a).category_id=n)),i:e.p({localdata:e.unref(t),placeholder:"请选择分类",modelValue:e.unref(a).category_id}),j:e.p({label:"分类",required:!0}),k:e.o((n=>e.unref(a).content=n)),l:e.p({type:"textarea",autoHeight:!0,placeholder:"请输入文章内容",modelValue:e.unref(a).content}),m:e.p({label:"内容",required:!0}),n:e.sr("baseForm","1680124a-4,1680124a-3"),o:e.p({modelValue:e.unref(a)}),p:e.t(e.unref(r)?"立 即 发 表":"登陆后发表"),q:e.o(p),r:!e.unref(r),s:e.p({title:"发表文章",type:"line",titleFontSize:"18px"})})}};wx.createPage(o);
