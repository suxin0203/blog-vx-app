"use strict";const e=require("../../../common/vendor.js"),n=require("../../../common/assets.js");if(!Array){(e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-forms-item")+e.resolveComponent("uni-data-checkbox")+e.resolveComponent("uni-forms")+e.resolveComponent("uni-card"))()}Math||((()=>"../../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js")+(()=>"../../../uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox.js")+(()=>"../../../uni_modules/uni-forms/components/uni-forms/uni-forms.js")+(()=>"../../../uni_modules/uni-card/components/uni-card/uni-card.js"))();const a={__name:"userinfo",setup(a){const o=e.ref(n.avatar),r=e.ref(null),u=e.ref("");e.onLoad((()=>{const n=e.index.getStorageSync("userinfo");o.value=n.avatar_url,t.value.nickname=n.nickname,u.value=n.username}));const s=e=>{console.log(e.detail),o.value=e.detail.avatarUrl};let l=e.ref([{text:"男",value:0},{text:"女",value:1},{text:"保密",value:2}]),t=e.ref({nickname:"",age:"",avatar_url:n.avatar,sex:2}),i={nickname:{rules:[{required:!0,errorMessage:"姓名不能为空"}]},age:{rules:[{errorMessage:"年龄不能为空"},{format:"number",errorMessage:"年龄只能输入数字"}]}};return(n,a)=>({a:o.value,b:e.o(s),c:e.t(u.value),d:e.o((n=>e.unref(t).nickname=n)),e:e.p({type:"nickname",placeholder:"请输入姓名",modelValue:e.unref(t).nickname}),f:e.p({label:"昵称",required:!0,name:"nickname"}),g:e.o((n=>e.unref(t).age=n)),h:e.p({placeholder:"请输入年龄",modelValue:e.unref(t).age}),i:e.p({label:"年龄",name:"age"}),j:e.o((n=>e.unref(t).sex=n)),k:e.p({localdata:e.unref(l),modelValue:e.unref(t).sex}),l:e.p({label:"性别",name:"sex"}),m:e.sr(r,"2c873d09-1,2c873d09-0",{k:"valiForm"}),n:e.p({modelValue:e.unref(t),rules:e.unref(i)}),o:e.o((n=>{r.value.validate().then((n=>{console.log("success",n),e.index.showToast({title:"修改成功"}),e.index.navigateBack({delta:1})})).catch((e=>{console.log("err",e)}))}))})}};wx.createPage(a);
